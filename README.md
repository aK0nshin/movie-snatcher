# movie-snatcher


## Задание (Сервис избранных фильмов)
Нужно создать веб-сервис, который будет сохранять понравившиеся фильмы с КиноПоиска и давать возможность полнотекстового поиска по сохраненным фильмам. 

#### Требования к сервису.
1. Должна быть возможность сохранять понравившиеся фильмы с КиноПоиска указав ссылку на страницу с фильмом. Для этого используем следующие инструменты:
* Используя фреймворк Flask нужно предоставить API для получения от пользователя ссылки на понравившиеся фильмы с КиноПоиска. Не забываем добавить тесты на pytest для тестирования API.
* После получения ссылки нужно cпарсить информацию о фильме расположенного по этой ссылке. С КиноПоиска забираем следующую информацию:
```
Название фильма.
Актёров.
Описание.
Дата выхода в прокат.
Страна производства.
Жанр.
Режиссёр.
```
* После того как спарсили информацию, кладём её в Postgres.
* Информацию о “Название фильма”, “Актёров” и “Описание”, также сохраняем в elasticsearch для дальнейшего поиска среди фильмов.
2. Должна быть возможность полнотекстового поиска по сохраненным фильмам. Для этого к нашему API разработанного на Flask нужно добавить API для поиска фильмов.
3. Сервис должен быть легко развертываемым, следовательно, всё нужно упаковать в docker-контейнеры и описать их запуск в docker-compose. По результату выполнения тестового задания должны быть описаны следующие сервисы в  docker-compose:
* API на фреймворке Flask.
* Postgres.
* elasticsearch.


## Quick start

Токен для апи кинопоиска можно получить в https://t.me/kinopoiskdev_bot

```
cd movie-snatcher
cp .env.example .env
# Вписать в .env свои настройки (KINOPOISK_TOKEN как минимум)
docker compose up --build --wait
```

## How to

Примеры апи-запросов к сервису можно найти в файле requests.http
